# Тестовое задание

1) Cклонируйте репозиторий в удобную папку (желательно, чтобы в пути не было кириллицы)
```
git clone https://github.com/Daniil7575/Test_task_python_backend_developer.git
```
2) Откройте файл ***.env*** и напишите свои данные от stripe в переменные окружения `STRIPE_PUBLIC_KEY` `STRIPE_SECRET_KEY` (По хорошему он должен быть полностью пустым изначально, но дабы не тратить время нужно заполнить только данные от stripe)

3) Перейдите в папку ***stripe_project*** и соберите, а затем запустите контейнер
```
sudo docker compose build
sudo docker compose up
```

4) По желанию создайте суперпользователя на сервере для взаимодействия с админ-панелью.
```
sudo docker compose exec web python3 manage.py createsuperuser
```

5) Зайдите на веб интерфейс по адресу - `http://0.0.0.0:8000/item/` 
                                 либо - `http://localhost:8000/item/`
Доступные купоны - 
### Валидный купон
`5poff`
### Неактивный купон
`100percentoff`
### Просроченный купон
`10off`

# Тестовый сервер (не актуально, так как истек срок бесплатного хостинга)
5.1) Также сайт доступен на удаленном серевере - http://spovtiz6.beget.tech/ с точно такими же эндпоинтами

доступный купон - `10_off`

# Эндпоинты:

`item/` - каталог товаров

`item/{item_id}/` - страница с подробным описанием товара

`buy/{item_id}/` - формирование stripeCheckoutSession

`{order_id}/success/` - страница после успешной оплаты заказа

`{order_id}/cancel/` - отмена заказа (с сохранением корзины)

`add-to-cart/{item_id}/` - добавление продукта в корзину

`create/` - создание заказа в модели Order и перенаправление на формирование stripeCheckoutSession

`clear-cart/` - очистка корзины
